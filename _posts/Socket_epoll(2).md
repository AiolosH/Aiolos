---
title: Socket编程_连接
description: Socket Epoll
date: 2016-04-12 20:29:32 +08:00
tags: Socket_Epoll
category: Socket编程
---


### epoll 中 LT 和 ET两种模式

#### LT模式
是缺省工作方式，并且同时支持block和no-block socket   

-在LT模式中，内核通知一个文件描述符是否就绪了，然后可以对这个就绪的fd进行IO操作  
-如果你不作任何操作，内核还是会继续通知你，所以这种模式编程出错误可能性较小


#### ET模式
是高速工作方式，只支持no-block Socket   

-在ET模式下，当描述符从未就绪变为就绪时，内核通过epoll告诉你。  
-ET模式会假设你知道文件描述符已经就绪，并且不会再为那个文件描述符发送更多的就绪通知，知道你做了某些操作导致那个文件描述符不再为就绪状态了。   
-如果一直不对这个fd作IO操作（从而导致它再次变成未就绪），内核不会发送更多的通知。

#### LT 和 ET 的区别

-LT事件不会丢弃，而是只要读buffer里面有数据可以让用户读，则不断的通知你   
-ET则只在事件发生时通知，可以简单的理解为LT是水平触发，ET为边缘触发  
-LT模式只要有事件未处理就会触发，ET只在高低电平变换时（即状态从0到1或者1到0）触发
